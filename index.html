<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Fokus-Kompass</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#0A1A2F" />

  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.webmanifest" />

  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("service-worker.js")
          .catch(console.error);
      });
    }
  </script>
</head>
<body>
  <div class="app">
    <header class="header">
      <div class="header-inner">
        <div class="header-text">
          <h1 class="header-title">Fokus-Kompass</h1>
          <p class="header-subtitle">Ich merke fr√ºh, wenn ich kippe ‚Äì und bleibe bei mir.</p>
        </div>

        <!-- Notification Button -->
        <button id="notify-btn" class="icon-button" type="button">
          <span class="icon-button__icon">üîî</span>
          <span id="notify-label" class="icon-button__label">Aus</span>
        </button>

        <!-- Statistics Button -->
        <button id="stats-btn" class="icon-button" type="button">
          <span class="icon-button__icon">üìä</span>
          <span class="icon-button__label">Stats</span>
        </button>
      </div>
    </header>

    <main class="main">

      <!-- SCREEN: TIMER -->
      <section class="screen screen--active" id="screen-timer">
        <div class="content">
          <p class="label">Fokusblock</p>
          <h2 class="headline">45 Minuten bei mir bleiben.</h2>

          <p class="paragraph">
            Diese App ist kein Leistungsdruck. Sie erinnert dich nur daran,
            rechtzeitig zu stoppen, bevor du dich verlierst.
          </p>

          <div class="timer-box">
            <div id="timer-display" class="timer-display">45:00</div>
            <div id="mode-indicator" class="mode-indicator mode-indicator--focus">
              Fokusblock 1
            </div>
          </div>

          <div class="button-row">
            <button id="start-btn" class="button button--primary">Start</button>
            <button id="pause-btn" class="button button--secondary">Pause</button>
            <button id="reset-btn" class="button button--ghost">Reset</button>
          </div>

          <p class="hint">
            Regel: Ein Block = 45 Minuten Fokus. Danach kommt automatisch ein kurzer Check-in.
          </p>
        </div>
      </section>

      <!-- SCREEN: CHECK -->
      <section class="screen" id="screen-check">
        <div class="content">
          <p class="label">Check-in</p>
          <h2 class="headline">Kurz zu dir zur√ºckkommen.</h2>
          <p class="paragraph">Bevor du weiter machst: einmal ehrlich hinsp√ºren.</p>

          <div class="check-group">
            <label class="check-label">
              Energie
              <input type="range" id="energy-slider" min="1" max="5" value="3" />
              <span id="energy-value" class="check-value">3/5</span>
            </label>

            <label class="check-label">
              Fokus
              <input type="range" id="focus-slider" min="1" max="5" value="3" />
              <span id="focus-value" class="check-value">3/5</span>
            </label>

            <label class="check-label">
              Unruhe
              <input type="range" id="restless-slider" min="1" max="5" value="2" />
              <span id="restless-value" class="check-value">2/5</span>
            </label>
          </div>

          <p class="paragraph strong">Kilosekunde der Wahrheit:</p>
          <p class="question">Merkst du dich gerade ‚Äì oder verlierst du dich?</p>

          <div class="button-row">
            <button id="self-btn" class="button button--primary">Ich merke mich</button>
            <button id="lost-btn" class="button button--alert">Ich verliere mich</button>
          </div>

          <p id="check-feedback" class="hint"></p>
        </div>
      </section>

      <!-- SCREEN: RESET -->
      <section class="screen" id="screen-reset">
        <div class="content content--center">
          <p class="label">Reset</p>
          <h2 class="headline">2 Minuten nur f√ºr dich.</h2>

          <div class="reset-box">
            <div id="reset-timer" class="timer-display timer-display--small">02:00</div>
            <ul class="reset-steps">
              <li>Schultern locker lassen.</li>
              <li>3√ó langsam einatmen, l√§nger ausatmen.</li>
              <li>3 Dinge bewusst ansehen.</li>
              <li>Du bist im Heute, nicht im Damals.</li>
            </ul>
          </div>

          <button id="reset-done-btn" class="button button--primary">
            Reset abgeschlossen
          </button>
        </div>
      </section>

      <!-- SCREEN: NACH RESET -->
      <section class="screen" id="screen-next">
        <div class="content content--center">
          <p class="label">Weiter oder stoppen</p>
          <h2 class="headline">Wie geht es jetzt weiter?</h2>

          <div class="button-column">
            <button id="next-block-btn" class="button button--primary">Neuer Fokusblock</button>
            <button id="finish-btn" class="button button--ghost">F√ºr heute reicht's</button>
          </div>
        </div>
      </section>

      <!-- SCREEN: STATISTIK -->
      <section class="screen" id="screen-stats">
        <div class="content">
          <p class="label">Statistik</p>
          <h2 class="headline">Dein Fokus-Verlauf</h2>

          <div id="stats-today" class="stats-line">Heute: 0 Bl√∂cke</div>
          <div id="stats-yesterday" class="stats-line">Gestern: 0 Bl√∂cke</div>
          <div id="stats-week" class="stats-line">Woche: 0 Bl√∂cke</div>
          <div id="stats-total" class="stats-line">Insgesamt: 0 Bl√∂cke</div>

          <h3 class="headline" style="font-size:17px;margin-top:20px;">Wochenverlauf</h3>
          <div id="stats-chart" class="stats-chart"></div>

          <div class="button-row" style="margin-top:24px;">
            <button id="stats-back-btn" class="button button--ghost">Zur√ºck</button>
          </div>
        </div>
      </section>

    </main>
  </div>

  <script src="app.js"></script>
</body>
  </html>
